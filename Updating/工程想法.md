##关于工程结构的一些想法

####关于MVC在良好的MVC架构的App中

View只做纯粹的展示型工作，把用户交互通过各种方式传递到外部Model只做数据存储类工作，Controller作为View和Model的枢纽，往往要和很多View和Model进行交互，也是自动化包括代码维护的痛点。所以，对Controller瘦身是iOS架构中比较重要的一环，一些通用的技巧包括：

一、逻辑抽离：

- 网络请求独立。可以每个网络请求以Command模式封装成一个对象，不要直接在Controller调用AFNetworking。
- 数据存储独立。建立独立的Store类，用来做数据持久化和缓存。
- 共有数据服务化（协议）。比如登录状态等等，通过服务去访问，这样服务提供者之需要处理服务的质量，服务使用者则信任服务提供者的结果。

二、Controller与View解耦合

- 建立ViewModel层，这样Controller只需要和ViewModel进行交互。
- 建立UIView子类作为容器，将一些View放到容器后再把容器作为SubView添加到Controller里
建立可复用的Layout层，不管是AutoLayout还是手动布局。

三、Controller与Controller解耦合

- 建立页面路由。每一个界面都抽象为一个URL，跳转仅仅通过Intent或者URL跳转，这样两个Controller完全独立。